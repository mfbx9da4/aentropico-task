<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta content="width=device-width" name="viewport">
<meta content="yes" name="apple-mobile-web-app-capable">

<title>Directives (Parts 4 and 5 of the AngularJS - from beginner to expert in 7 steps series) | ng-newsletter</title>

<meta name="author" content="Ari Lerner">
<meta name="description" content=" angularjs angularjs tutorial angular">
<meta name="keywords" content="angularjs quickstart getting started with angularjs how to learn angularjs angular tutorial angularjs tutorial angularjs angularjs tutorial angular realtime firebase angularfire">

<meta name="msvalidate.01" content="BE7DA3BEF0F11153F6E4B5585C12DB20" />
<meta property="og:type" content="website" />
<meta property="og:title" content="ng-newsletter" />
<meta property="og:url" content="http://ng-newsletter.com" />
<meta property="og:image" content="http://ng-newsletter.com/img/" />
<meta property="og:description" content="" />

<meta name="twitter:card" value="summary" />
<meta name="twitter:creator" value="@auser" />
<meta name="twitter:title" value="ng-newsletter" />
<meta name="twitter:description" value="" />
<meta name="twitter:image" value="http://ng-newsletter.com/img/" />

<link rel="alternate" type="application/rss+xml" href="feed.rss" title="Sitewide RSS 2.0 Feed">
<link rel="alternate" type="application/atom+xml" href="atom.xml" title="Sitewide ATOM Feed">
<link rel="alternate" type="application/atom+json" href="atom.json" title="Sitewide JSON Feed">

<link href="/favicon.ico" rel="icon" type="image/ico" />
<link href="/css/site.css" media="screen" rel="stylesheet" type="text/css" /><link href="http://fonts.googleapis.com/css?family=Roboto:400italic,700italic,400,700|Open+Sans:r,i,b,bi|Bitter:r,i,b" media="screen" rel="stylesheet" type="text/css" />
<script src="/js/vendor/custom.modernizr.js"></script>
<script src="/js/vendor/d3.v3.min.js"></script>
<script src="/js/vendor/angular/angular.min.js"></script>
<script src="/js/vendor/angular-route/angular-route.min.js"></script>
<script src="/js/vendor/angular-animate.min.js"></script>
<script src="/js/vendor/angular-translate.min.js"></script>
<script src="/js/vendor/angular-cookies/angular-cookies.min.js"></script>


</head>
<body ng-app="beginnersTutorialApp">

    
    <div id="header">
  <div id="topNav">
    <nav class="top-bar">
      <ul class="title-area">
        <li class="name">
          <h1><a href="/">ng-newsletter</a></h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
      </ul>

      <section class="top-bar-section">
        <ul class="right">
      		<li><a href="/posts">Articles</a></li>
          <li><a href="/advent2013/">25 days of Angular</a></li>
          <li><a href="/books">Books</a></li>
          <li><a href="/sponsor">Sponsorship</a></li>
        </ul>
      </section>
    </nav>
  </div>
  <div class="headerContent">
  </div>
</div>

    <div class="container">
      <div id="article">
        <article class="post">
          <header>
            <h1 class="mega">Directives (Parts 4 and 5 of the AngularJS - from beginner to expert in 7 steps series)</h1>
          </header>
          
          <blockquote>
<p>This post contains parts 4 (directives) and 5 (expressions) of <a href="/posts/beginner2expert-how_to_start.html">AngularJS - from beginner to expert in 7
steps</a>.</p>

<p>We started our <a href="/posts/beginner2expert-how_to_start.html">first</a> <a href="/posts/beginner2expert-scopes.html">several</a> <a href="/posts/beginner2expert-data-binding.html">entries</a> demonstrating the core components of the application and how to set up an AngularJS app. In this section, we&rsquo;ll clear up some terminology and dive into a lot of core out-of-the-box functionality that we get with AngularJS.</p>

<p>Throughout this tutorial series, we are building an NPR audio player that will show us the current stories on the show <em>Morning Edition</em> and play them in our browser. To see the fully finished demo, head over <a href="/code/beginner_series">here</a>.</p>
</blockquote>

<h3>4. Directives</h3>

<p>So far in this series, we&rsquo;ve mentioned the phrase <em>directives</em> a few times without diving into what they actually are. A <em>directive</em> is a fancy name for a function that&rsquo;s attached to a DOM element. Directives have the ability to execute methods, define behavior, attach controllers and <code>$scope</code> objects, manipulate the DOM, and more.</p>

<p>When the browser starts up and starts to parse the HTML (as it does normally), any directives are passed over like any other attribute.</p>

<p>When the AngularJS app is bootstrapped and the Angular compiler starts walking through the DOM tree (starting from the DOM element that declares <code>ng-app</code>, as we mentioned in <a href="/posts/beginner2expert-how_to_start.html">part 1</a>), it will parse the HTML looking for these <em>directive</em> functions. </p>

<p>When it finds a DOM element with one or more, it will collect, sort, and run the directive functions in priority order.</p>

<blockquote>
<p>The priority is determined by the individual directives. You can find more advanced information in our <a href="/posts/directives.html">directives</a> article.</p>
</blockquote>

<p>Directives handle all of the heavy lifting that AngularJS apps use to be dynamic and responsive. We&rsquo;ve seen a few examples of directives previously.</p>

<h3>ng-model</h3>
<pre class="highlight html"><span class="nt">&lt;input</span> <span class="na">ng-model=</span><span class="s">&quot;name&quot;</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Enter your name&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;h4&gt;</span>Your name: {{ name }}<span class="nt">&lt;/h4&gt;</span>
</pre>
<h4>Try it</h4>

<p><input ng-model="name" name="Name" placeholder="Enter your name"/>
<h4>Your name: {{ name }}</h4></p>

<p>The <code>ng-model</code> directive (which we&rsquo;ve used in previous sections) is set to <em>bind</em> the value of the input DOM element to the <code>$scope</code> model in the controller. To do that, it sets up a <code>$watch</code> (similar to the JavaScript event listener) on the value.</p>

<blockquote>
<p><code>$watch</code> functions run (if necessary) in the AngularJS event loop (the <code>$digest</code> loop), and the Angular updates the DOM accordingly. Stay tuned for our advanced post on the <code>$digest</code> loop!</p>
</blockquote>

<p>In Angular, we use directives to bind behavior to the DOM. How we use our directives is the key to a responsive, dynamic Angular application. There are a lot of default directives that come with AngularJS. Let&rsquo;s look at a few and how to use them.</p>

<h2>Common, built-in directives</h2>

<h3 ng-non-bindable>{{ expression }}</h3>

<p>The double-curly expression directive registers a listener for the expression inside the <span ng-non-bindable>{{ expression }}</span> using the <code>$watch()</code> function. This function enables Angular to update the view.</p>

<p>What is an <em>expression</em>?</p>

<h3>5. Expressions</h3>

<p>In order to understand how directives work, we must also understand expressions, so we&rsquo;re taking a little detour into Part 5 of this series: Expressions. We&rsquo;ve seen expressions in previous examples: <span ng-non-bindable>{{ person.name }}</span> and <span ng-non-bindable>{{ clock }}</span>, for instance. </p>

<div ng-controller="DemoController1">
<div class="code_with_result"><pre ng-non-bindable>{{ 8 + 1 }}</pre></div>

<div class="code_with_result"><pre ng-non-bindable>{{ person }}</pre></div>

<div class="code_with_result"><pre ng-non-bindable>{{ 10 * 3.3 | currency }}</pre></div>
</div>

<blockquote>
<p>The last example (<code>10 * 3.3 | currency</code>) uses a <em>filter</em>. We&rsquo;ll talk about filters in depth later in this series.</p>
</blockquote>

<p>Expressions are kinda like the result of an <code>eval(javascript)</code> (roughly). They are processed by Angular and, therefore, have these important, distinct properties:</p>

<ul>
<li>All expressions are executed in the context of the scope and have access to local <code>$scope</code> variables.</li>
<li>They do not throw errors if an expression results in a <em>TypeError</em> or a <em>ReferenceError</em>.</li>
<li>They do not allow for any control flow functions (conditionals; e.g., if/else).</li>
<li>They can accept filter chains.</li>
</ul>

<h4>Try it</h4>

<div ng-controller="DemoController1">
<div ng-live-result ng-placeholder="Try an expression" ng-model="testExpression"></div>
<blockquote><small>Try typing &ldquo;<em>person</em>&rdquo;, &ldquo;<em>clock</em>&rdquo;, or other math expressions like 2 + 4. You can even manipulate the scope: For instance, try things like <code>person.name = "Ari"; person.age = 28; person</code> or <code>clock</code></small></blockquote>
</div>

<p>Expressions all operate on the containing scope within which they are called. This fact enables you to call variables bound to the containing scope inside of an expression, which, in turn, enables you to loop over variables (we&rsquo;ll see this with <code>ng-repeat</code>), call a function, or use variables for math expressions from the scope.</p>

<h4>Now, back to our directives list&hellip;</h4>

<h3>ng-init</h3>

<p>The <code>ng-init</code> directive is a function that runs at bootstrap time (before runtime). It allows us to set default variables prior to running any other functions during runtime:</p>
<pre class="highlight text">&lt;b ng-init='name = &quot;Ari Lerner&quot;'&gt;Hello, {{ name }}&lt;/b&gt;
</pre>
<h4>See it</h4>

<p><b ng-init='name = "Ari Lerner"'>Hello, {{ name }}</b></p>

<h3>ng-click</h3>

<p>The <code>ng-click</code> directive registers a listener with the DOM element. When the DOM listener fires (when a button or link is <em>clicked</em>), Angular executes the expression and updates the view as normal:</p>
<pre class="highlight text">&lt;button ng-click=&quot;counter = counter + 1&quot;&gt;Add one&lt;/button&gt;
Current counter: {{ counter }}
</pre>
<h4>See it</h4>

<p><button class="button" ng-click="counter = counter + 1" ng-init="counter = 0">Add one</button>
Current counter: {{ counter }}</p>

<p>We can also use <code>ng-click</code> to call a function that we&rsquo;ve made on a controller. For instance:</p>
<pre class="highlight html"><span class="nt">&lt;button</span> <span class="na">ng-click=</span><span class="s">&quot;sayHello()&quot;</span><span class="nt">&gt;</span>Say hello<span class="nt">&lt;/button&gt;</span>
</pre>
<p>The controller function: </p>
<pre class="highlight javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">'MyController'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$scope</span><span class="p">.</span><span class="nx">sayHello</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;hello!&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre>
<h4>Try it</h4>

<div ng-controller="DemoController1">
<button ng-click="sayHello()">Say hello</button>
</div>

<h3>ng-show / ng-hide</h3>

<p>The <code>ng-show</code> and <code>ng-hide</code> directives show or hide a portion of the DOM depending on whether the expression is truthy. </p>

<blockquote>
<p>We won&rsquo;t go into them here, but &ldquo;truthy&rdquo; and &ldquo;falsey&rdquo; are JavaScript terms with which you&rsquo;ll want to be familiar.  </p>
</blockquote>
<pre class="highlight html"><span class="nt">&lt;button</span> <span class="na">ng-init=</span><span class="s">&quot;shouldShow = true&quot;</span> <span class="na">ng-click=</span><span class="s">&quot;shouldShow = !shouldShow&quot;</span><span class="nt">&gt;</span>Flip the shouldShow variable<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;div</span> <span class="na">ng-show=</span><span class="s">&quot;shouldShow&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h3&gt;</span>Showing {{ shouldShow }}<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">ng-hide=</span><span class="s">&quot;shouldShow&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h3&gt;</span>Hiding {{ shouldShow }}<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre>
<h4>Try it</h4>

<p><button class="button small" ng-init="shouldShow = true" ng-click="shouldShow = !shouldShow">Flip the shouldShow variable</button>
<div ng-show="shouldShow">
  <h3>Showing {{ shouldShow }}</h3>
</div>
<div ng-hide="shouldShow">
  <h3>Hiding {{ shouldShow }}</h3>
</div></p>

<h3>ng-repeat</h3>

<p>The <code>ng-repeat</code> directive loads a template for each item in a collection. The template it clones is the element upon which we call <code>ng-repeat</code>. Each copy of the template gets its own scope.</p>

<p>Before we dive into explanation, let&rsquo;s look at an example:</p>

<p>Let&rsquo;s say we have a list of the following items in our controller:</p>
<pre class="highlight javascript"><span class="nx">$scope</span><span class="p">.</span><span class="nx">roommates</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'Ari'</span><span class="p">},</span>
  <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'Q'</span><span class="p">},</span>
  <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'Sean'</span><span class="p">},</span>
  <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="s1">'Anand'</span><span class="p">}</span>
<span class="p">];</span>
</pre>
<p>We can use <code>ng-repeat</code> to loop through them in our view:</p>
<pre class="highlight html"><span class="nt">&lt;ul&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">ng-repeat=</span><span class="s">&quot;person in roommates&quot;</span><span class="nt">&gt;</span>{{ person.name }}<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre>
<h4>See it</h4>

<div ng-controller="LoopController">
  <ul>
    <li ng-repeat="item in items">{{ item.name }}
    </li>
  </ul>
</div>

<p>We can also loop through key-value lists in the <code>ng-repeat</code> directive to slightly modify the expression. For instance, if we have a list of people and their favorite colors:</p>
<pre class="highlight javascript"><span class="nx">$scope</span><span class="p">.</span><span class="nx">people</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Ari'</span><span class="err">:</span> <span class="s1">'orange'</span><span class="p">,</span>
  <span class="s1">'Q'</span><span class="err">:</span> <span class="s1">'purple'</span><span class="p">,</span>
  <span class="s1">'Sean'</span><span class="err">:</span> <span class="s1">'green'</span>
<span class="p">}</span>
</pre>
<p>We can use the <em>repeat expression</em>: <code>(key, value) in object</code>, like so:</p>
<pre class="highlight html"><span class="nt">&lt;ul&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">ng-repeat=</span><span class="s">&quot;(name, color) in people&quot;</span><span class="nt">&gt;</span>{{ name }}'s favorite color is {{ color }}
  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre>
<h4>See it</h4>

<div ng-controller="LoopController">
  <ul>
    <li ng-repeat="(name, color) in people">{{ name }}&rsquo;s favorite color is {{ color }}
  </ul>
</div>

<p>These are only a few of the built-in directives that AngularJS provides out of the box. AngularJS makes it very easy to create your own directives, as well. Check out our guide on creating your own custom directives <a href="/posts/directives.html">here</a>.</p>

<h3>Directives in our app</h3>

<p>We left our audio app last time by just fetching the list of latest audio programs that the NPR API sends us back:</p>
<pre class="highlight javascript"><span class="nx">$scope</span><span class="p">.</span><span class="nx">programs</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">story</span><span class="p">;</span>
</pre>
<p>Now that we know how to iterate over a list of programs, we can simply take our programs and iterate over them to produce a listing using <code>ng-repeat</code>, as we did above:</p>
<pre class="highlight html"><span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;programs_list&quot;</span> <span class="na">class=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">ng-repeat=</span><span class="s">&quot;program in programs&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;large-12&quot;</span><span class="nt">&gt;</span>{{ program.title.$text }}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre>
<blockquote>
<p>The NPR API gives us back a listing with the <em>title</em> + <code>$text</code>. This syntax is specific to the NPR API, not to AngularJS itself. </p>
</blockquote>

<p>Now we have a listing with the programs listed and their titles, but no way to click and play our titles. Using <code>ng-click</code>, we can add a link to the element:</p>
<pre class="highlight html"><span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;programs_list&quot;</span> <span class="na">class=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">ng-repeat=</span><span class="s">&quot;program in programs&quot;</span> <span class="na">ng-click=</span><span class="s">&quot;play(program)&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;large-12&quot;</span><span class="nt">&gt;</span>{{ program.title.$text }}<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre>
<p>This step will <em>bind</em> the action <code>play</code> to clicking the list DOM element. Now, once we create the <code>play</code> action in our <code>PlayerController</code>, we&rsquo;ll have a fully functioning audio app:</p>
<pre class="highlight javascript"><span class="c1">// format.mp4.$text is the route to the mp4 file from the NPR api
</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">play</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">program</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">$scope</span><span class="p">.</span><span class="nx">playing</span><span class="p">)</span> <span class="nx">$scope</span><span class="p">.</span><span class="nx">audio</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">program</span><span class="p">.</span><span class="nx">audio</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">format</span><span class="p">.</span><span class="nx">mp4</span><span class="p">.</span><span class="nx">$text</span><span class="p">;</span>
  <span class="nx">audio</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">url</span><span class="p">;</span>
  <span class="nx">audio</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
  <span class="c1">// Store the state of the player as playing
</span>  <span class="nx">$scope</span><span class="p">.</span><span class="nx">playing</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</pre>
<p>Although this app is fully functional, it is not very pretty, and the code itself will become bloated and difficult to manage, especially as we start to add new functionality. We can create our own directives to help reduce this complexity.</p>

<blockquote>
<p>To learn more about creating custom directives, check out our deep directives post <a href="/posts/directives.html">here</a>.</p>
</blockquote>

<p>To create a custom directive, we&rsquo;ll use the <code>directive</code> function on the app object:</p>
<pre class="highlight javascript"><span class="nx">app</span><span class="p">.</span><span class="nx">directive</span><span class="p">(</span><span class="s1">'nprLink'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">restrict</span><span class="p">:</span> <span class="s1">'EA'</span><span class="p">,</span>
    <span class="na">require</span><span class="p">:</span> <span class="p">[</span><span class="s1">'^ngModel'</span><span class="p">],</span>
    <span class="na">replace</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">scope</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">ngModel</span><span class="p">:</span> <span class="s1">'='</span><span class="p">,</span>
      <span class="na">play</span><span class="p">:</span> <span class="s1">'&amp;'</span>
    <span class="p">},</span>
    <span class="na">templateUrl</span><span class="p">:</span> <span class="s1">'/views/nprListItem.html'</span><span class="p">,</span>
    <span class="na">link</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">scope</span><span class="p">,</span> <span class="nx">ele</span><span class="p">,</span> <span class="nx">attr</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">scope</span><span class="p">.</span><span class="nx">duration</span> <span class="o">=</span> <span class="nx">scope</span><span class="p">.</span><span class="nx">ngModel</span><span class="p">.</span><span class="nx">audio</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">duration</span><span class="p">.</span><span class="nx">$text</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre>
<p>We won&rsquo;t cover what all of these options mean, as we&rsquo;ve covered it in an in-depth <a href="/posts/directives.html">post</a>, but they allow us to reference this directive in our HTML and replace that DOM element with the contents of our template (in <code>/views/nprListItem</code>).</p>

<p>Now, in our template we can create the isolated view that our list item will refer to while keeping our main HTML clean:</p>
<pre class="highlight html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;nprLink row&quot;</span> <span class="na">ng-click=</span><span class="s">&quot;play(ngModel)&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;name large-8 columns&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;large-2 small-2 playButton columns&quot;</span><span class="nt">&gt;&lt;div</span> <span class="na">class=</span><span class="s">&quot;triangle&quot;</span><span class="nt">&gt;&lt;/div&gt;&lt;/button&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;large-10 small-10 columns&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;large-12&quot;</span><span class="nt">&gt;</span>{{ ngModel.title.$text }}<span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;small-1 columns&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;small-2 columns push-8&quot;</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{ ngModel.link[0].$text }}&quot;</span><span class="nt">&gt;</span>Link<span class="nt">&lt;/a&gt;&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre>
<blockquote>
<p>Notice that we refer to the <code>program</code> as <code>ngModel</code> instead of <code>program</code> in the template, due to how we&rsquo;ve set up our directive. </p>
</blockquote>

<p>Now, instead of &lsquo;cluttering&rsquo; our main HTML with this specific HTML, we can simply replace it with:</p>
<pre class="highlight html"><span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;programs_list&quot;</span> <span class="na">class=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">ng-repeat=</span><span class="s">&quot;program in programs&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">npr-link</span> <span class="na">play=</span><span class="s">'play(program)'</span> <span class="na">ng-model=</span><span class="s">&quot;program&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre>
<p>In the next section, we&rsquo;ll discuss how services work and how to communicate across the controllers in our app.</p>

<p>The <em>official</em> repository for the beginner series is available as a git repo here: <a href="https://github.com/auser/ng-newsletter-beginner-series">https://github.com/auser/ng-newsletter-beginner-series</a>. </p>

<p>To get this repo locally, ensure that you have <code>git</code> installed, clone the repo, and check out <code>part5</code> branch. We are using XHR to fetch templates, so you&rsquo;ll need to run a local server. We&rsquo;ve included a server script in part5:</p>
<pre class="highlight shell">git clone https://github.com/auser/ng-newsletter-beginner-series.git
git checkout part5
./bin/server.sh
</pre>
<div in-this-series prev="/posts/beginner2expert-data-binding.html" next="/posts/beginner2expert-services.html" description="The AngularJS - from beginner to expert in 7 steps series"></div>


          <div class="container" id="signupApp" ng-cloak>
  <div id="topbar_signup_embed">
  Get the weekly email all focused on AngularJS. <b>Sign up below</b> to receive the weekly email and exclusive content.
  <form name="ngSignup" action="http://willcodeforfoo.us6.list-manage1.com/subscribe/post?u=86d6f14c7cc955128485e3b8e&amp;id=fa61364f13" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    
    <div class="row collapse">
      <div class="small-9 columns">
        <input ng-class="{error: ngSignup.email.$dirty && ngSignup.email.$invalid}" type="email" ng-minlength=3 ng-model="ngSignup.email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email address" required>
      </div>
      <div class="small-3 columns">
        <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" ng-disabled="ngSignup.$invalid" class="button postfix"></div>
      </div>
        <div class="small-12 columns error" ng-show="ngSignup.EMAIL.$dirty && ngSignup.EMAIL.$invalid">
          <small class="error" ng-show="ngSignup.EMAIL.$error.required">Your email is required.</small>
          <small class="error" ng-show="ngSignup.EMAIL.$error.minlength">Your email is required to be at least 3 characters</small>
          <small class="error" ng-show="ngSignup.EMAIL.$error.email">That is not a valid email. Please input a valid email.</small>
        </div>
      </div>
  </form>
  </div>
</div>

<script type="text/javascript">
  if (typeof(app) == 'undefined') {
    angular.module("signupApp", [])
    .controller("mailChimpValidation", ['$scope', function($scope) {}]);
    var ele = document.getElementById("signupApp");
    angular.element(ele, ['signupApp']);
  }
</script>
          <section id="sample_chapter" ng-app="ngBookApp">    <div class="content">      <h3 class="title">Download a free sample of the ng-book: The Complete Book on AngularJS</h3> <span class="image"><img src="http://www.ng-book.com/images/flatbook-ngbook-small.png" alt="book"></span><div class="desc">It's free, so just enter your email address and the PDF will be sent directly to your inbox.</div>    </div>    <div class="form" ng-init="signedup=false" ng-show="!signuped">      <form action="http://willcodeforfoo.us6.list-manage.com/subscribe/post?u=86d6f14c7cc955128485e3b8e&amp;id=7bbfaae868" method="post" id="mc-embedded-subscribe-form" name="ngBookSignup" class="validate ng-pristine ng-invalid ng-invalid-required" target="_blank" novalidate="">
<div class="mc-field-group">          <input type="email" ng-model="ngBookSignup.email" ng-class="{error: ngBookSignup.email.$dirty &amp;&amp; ngBookSignup.email.$invalid}" value="" name="EMAIL" placeholder="Your email address" class="required email ng-pristine ng-valid ng-valid-email ng-valid-minlength" id="mce-EMAIL" ng-minlength="3">        </div>        <div id="mce-responses" class="clear">          <div class="response" id="mce-error-response" style="display:none"></div>          <div class="response" id="mce-success-response" style="display:none"></div>        </div>        <div class="clear"><input type="submit" value="Send me a free chapter" name="subscribe" id="ngBookSignupSubmit" ng-disabled="ngBookSignup.$invalid" class="button postfix" ng-click="signedup=true" disabled="disabled"></div>      </form>      <div ng-show="signedup" class="ng-hide">      <p>Sweet! We are glad to hear you're interested in learning AngularJS. Enjoy the free chapter. We put a lot of work into building the book series, so we hope you like it!      Talk soon</p>      </div>      <div class="desc">        We won't ever send you spam! You can unsubscribe at any time.      </div>    </div>  </section>

          <footer>
            <ul class="actions">
              <li><a href="/articles"><span class="arrow">←</span> Back to articles</a></li>
              <li><a href="http://twitter.com/home/?status=Directives (Parts 4 and 5 of the AngularJS - from beginner to expert in 7 steps series) - http://ng-newsletter.com/posts/beginner2expert-directives.html via @ngnewsletter" target="_blank"><img src="/img/twitter-bird-blue-on-white.png" style="width: 56px; height: 26px;" />Share on twitter</a></li>
            </ul>
          </footer>

        </article>

        <section id="comments">
            <h2 class="gamma">Comments</h2>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'ngnewsletter'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        </section>

        
        <script src="/js/posts/beginner.js"></script>
        

        <script type="text/javascript" src="/js/vendor/zepto.js"></script>
<script type="text/javascript" src="/js/vendor/foundation.min.js"></script>

<script src="/js/main.js"></script>

        </div>
    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28176211-3', 'ng-newsletter.com');
  ga('send', 'pageview');

</script>

<script type="text/javascript">
  var $mcGoal = {'settings':{'uuid':'86d6f14c7cc955128485e3b8e','dc':'us6'}};
  (function() {
     var sp = document.createElement('script'); sp.type = 'text/javascript'; sp.async = true; sp.defer = true;
    sp.src = ('https:' == document.location.protocol ? 'https://s3.amazonaws.com/downloads.mailchimp.com' : 'http://downloads.mailchimp.com') + '/js/goal.min.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(sp, s);
  })(); 
</script>

</body>
</html>
