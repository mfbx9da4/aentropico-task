/*! blog 2014-02-05 */
function lineChart(){function a(a,e){var f=d3.select(a).append("svg").attr("width",c+b.left+b.right).attr("height",d+b.top+b.bottom).append("g").attr("transform","translate("+b.left+","+b.top+")"),l=d3.csv.parse(e);g.range([0,c-b.left-b.right]).domain(d3.extent(l,function(a){return+a.x})),h.range([d-b.top-b.bottom,0]).domain(d3.extent(l,function(a){return+a.y})),f.append("g").attr("class","x axis").attr("transform","translate(0,"+(d-b.top-b.bottom)+")").call(i),f.append("g").attr("class","y axis").call(j).append("text").attr("transform","rotate(-90)"),f.append("path").datum(l).attr("class","line").attr("d",k)}var b={top:20,right:20,bottom:30,left:50},c=760-b.left-b.right,d=120-b.top-b.bottom,e=function(a){return a[0]},f=function(a){return a[1]},g=d3.scale.linear(),h=d3.scale.linear(),i=d3.svg.axis().scale(g).orient("bottom"),j=d3.svg.axis().scale(h).orient("left"),k=d3.svg.line().x(function(a){return g(a.x)}).y(function(a){return h(a.y)});return a.margin=function(c){return arguments.length?(b=c,a):b},a.width=function(b){return arguments.length?(c=b,a):c},a.height=function(b){return arguments.length?(d=b,a):d},a.x=function(b){return arguments.length?(e=b,a):e},a.y=function(b){return arguments.length?(f=b,a):f},a}var AentropicoApp=angular.module("AentropicoApp",["angularFileUpload","ngRoute"]);AentropicoApp.config(function(a){a.when("/upload",{templateUrl:"../html/upload.html",controller:"uploadController"}).when("/about",{templateUrl:"../README.html",controller:"aboutController"}).otherwise({redirectTo:"/upload"})}),AentropicoApp.controller("uploadController",["$scope","$http","$upload","$location",function(a,b,c){a.formData={},$("input[type=file]").focus(),a.onFileSelect=function(d){var e=$("#percent-complete");e.width("0%");var f=d[0];a.upload=c.upload({url:"/algorithms",method:"POST",data:{myObj:a.formData.url},file:f}).then(function(a){if(!a.data.success)throw a.data.message;b.get("/jobs/"+a.data.jobId).success(function(a){var b=lineChart().width($("#graph").width()).height($("#graph").width()/2);b("#graph",a.data)})},null,function(a){e.width(parseInt(100*a.loaded/a.total)+"%")})}}]),AentropicoApp.controller("aboutController",["$scope",function(){}]);